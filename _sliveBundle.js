var SLIVE;(()=>{var e={221:(e,o,t)=>{const n=t(915);e.exports={get:()=>n.config}},874:(e,o,t)=>{e.exports=e=>{const o=t(915);if(!o.localConfig)return o.localConfig=e,document.body.style.width=o.localConfig.width+"px",document.body.style.height=o.localConfig.height+"px",e}},479:(e,o,t)=>{const n={start:async(e,o)=>n.connect(e,o,!0),url:"",version:null,O:null,firstConfig:!0,BackendServerWasConnected:!1};e.exports=n;const r=t(339),i=t(150),s=t(915),a=t(524);n.connect=async function(e,o,t){if(t||n.BackendServerWasConnected){if(o||(o="wss://ws.slive.app/slive_app_backend_overlay"),!e)return console.error("[Backend] No version specified"),void a.error("No version specified. Exiting...");n.url=o,n.version=e,n.O=new WebSocket(`${o}?version=${e}&token=${r.getUrlVars().token}`),n.O.onmessage=async function(e){switch("ERROR"!=(e=JSON.parse(e.data)).ID&&console.log(e),e.ID){case"ERROR":console.error("[Backend] "+e);break;case"OB2OF_PING":n.O.send(JSON.stringify({ID:"OF2OB_PONG",DATA:{}}));break;case"OB2OF_AUTHORIZE_SUCCESS":n.BackendServerWasConnected=!0;break;case"OB2OF_CONFIG":s.sliveConfig=e.DATA,n.firstConfig&&(n.firstConfig=!1,i("ready",e.DATA),a.show(),console.info("[Backend] Connection established"),await r.waitMs(2e3),s.localConfig||(alert("[SDK] You have not specified a config for your project. The connection is now closed."),a.error("No config specified. Exiting...")));break;case"OB2OF_EVENTSUB":i("event",e.DATA),i(e.DATA.subscription.type,e.DATA);break;case"OB2OF_CHAT":i("chat",e.DATA);break;case"OB2OF_TOOL_DATA":if(s.localConfig.id!=e.DATA.toolId)return;i("toolData",e.DATA.payload);break;case"OB2OF_DB_GET_RESPONSE":case"OB2OF_DB_SET_RESPONSE":s.db[e.DATA.nonce]=e.DATA}},n.O.onerror=function(e){console.error("[Backend] "+JSON.stringify(e)),n.O.close()},n.O.onclose=async function(){console.error("[Backend] Connection closed"),await r.waitMs(5e3),n.connect(n.version,n.url,!1)}}}},365:(e,o,t)=>{const n=t(479),r=t(339),i=t(915);e.exports=(e,o)=>new Promise((async(o,t)=>{const s=r.rdmStrNum(16);for(n.O.send(JSON.stringify({ID:"OF2OB_DB_GET",DATA:{key:e,nonce:s}}));null==i.db[s];)await r.waitMs(1);let a=await i.db[s];delete i.db[s],a.success?o(a.value):t("Error while getting value")}))},499:(e,o,t)=>{const n=t(479),r=t(339),i=t(915);e.exports=(e,o)=>new Promise((async(t,s)=>{const a=r.rdmStrNum(16);for(n.O.send(JSON.stringify({ID:"OF2OB_DB_SET",DATA:{key:e,value:o,nonce:a}}));null==i.db[a];)await r.waitMs(1);let c=await i.db[a];delete i.db[a],delete c.nonce,c.success?t():s("Error while setting value")}))},524:(e,o,t)=>{const n=t(915),r=t(479);e.exports={set:()=>{document.body.style.width="1920px",document.body.style.height="1080px",document.body.style.transform="scale(1)",document.body.style.transformOrigin="0 0",document.body.style.overflow="hidden",document.body.style.position="absolute",document.body.style.top="0",document.body.style.left="0",document.body.style.transition="transform 0.49s cubic-bezier(.72,.01,.23,.99); opacity 0.49s cubic-bezier(.72,.01,.23,.99)",document.body.style.margin="0",document.body.style.opacity="0"},update:()=>{setInterval((()=>{if(!n.localConfig)return;let e=null;if(n.localConfig.width>=n.localConfig.height)e=window.innerWidth/n.localConfig.width;else{if(!(n.localConfig.height>n.localConfig.width))return;e=window.innerHeight/n.localConfig.height}document.body.style.transition="transform 0.49s cubic-bezier(.72,.01,.23,.99)",document.body.style.transform=`scale(${e.toString()})`}),500)},error:e=>{r.BackendServerWasConnected=!1,r.O.close(),document.body.innerHTML=`<div style="position: absolute; top: 5%; left: 3%; width: 90%; color: #759aff; font-family: Arial; font-size: 30px; text-align: left;">${e}</div>`},show:()=>{document.body.style.opacity="1"},hide:()=>{document.body.style.opacity="0"}}},915:e=>{e.exports={listener:[],sliveConfig:{},localConfig:!1,db:[]}},150:(e,o,t)=>{let n=t(915);e.exports=(e,o)=>{n.listener[e]&&n.listener[e].forEach((e=>e(o)))}},886:(e,o,t)=>{let n=t(915);e.exports=(e,o)=>{n.listener[e]||(n.listener[e]=[]),n.listener[e].push(o)}},339:(e,o,t)=>{t(915),e.exports={IsJsonString:e=>{try{JSON.parse(e)}catch(e){return!1}return!0},rdmNum:(e,o)=>Math.floor(Math.random()*(o-e+1)+e),rdmStr:e=>{for(var o="",t=0;t<e;t++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return o},rdmStrNum:e=>{for(var o="",t=0;t<e;t++)o+=t%2==0?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())):Math.floor(9*Math.random());return o},generateToken:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=16*Math.random()|0;return("x"==e?o:3&o|8).toString(16)})),getUrlVars:()=>{var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(o,t,n){e[t.toLowerCase()]=n})),e},waitMs:e=>new Promise((o=>setTimeout(o,e))),generateColor:()=>{for(var e="#",o=0;o<6;o++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}}},989:(e,o,t)=>{e.exports={on:t(886),db:{set:t(499),get:t(365)},config:{get:t(221),set:t(874)},utils:t(339)};const n=t(479),r=t(339),i=(t(915),t(524));if(i.set(),i.update(),console.info("[sliveApp] SDK v1"),null==r.getUrlVars().token){const e=prompt("[SDK] Bitte gib deinen Token ein")||"TvP7VBbDEPP2m_rtl_su1";window.location.href=window.location.href+"?token="+e,null==e&&i.error("No Token provided. Exiting...")}window.location.hostname.includes("slive.app")||window.location.hostname.includes("slive.games")||console.info("[SDK] Local testing mode"),n.start(1,"wss://ws.slive.app/slive_app_backend_overlay_beta")}},o={},t=function t(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return e[n](i,i.exports,t),i.exports}(989);SLIVE=t})();